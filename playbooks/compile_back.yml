---
- name: Compile exploring agent TypeScript code
  hosts: exploring_agents
  become: true
  tasks:
    - name: Compile exploring_agent TypeScript files
      ansible.builtin.command:
        cmd: npm install && npm run build
        chdir: /app/server
        creates: /app/server/build
      register: compile_exploring_agent_result
      ignore_errors: true

    - name: Display exploring_agent compilation result
      ansible.builtin.debug:
        var: compile_exploring_agent_result.stdout_lines
